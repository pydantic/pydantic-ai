interactions:
- request:
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate, br, zstd
      connection:
      - keep-alive
      content-length:
      - '878'
      content-type:
      - application/json
      host:
      - api.anthropic.com
    method: POST
    parsed_body:
      max_tokens: 4096
      messages:
      - content:
        - text: Use search_tools to search for "mortgage", then use the mortgage_calculator tool to calculate the monthly
            payment for a $400,000 loan at 6.5% interest for 30 years.
          type: text
        role: user
      model: claude-sonnet-4-5
      stream: false
      tool_choice:
        type: auto
      tools:
      - description: Search for available tools by keyword. Returns matching tool names and descriptions.
        input_schema:
          properties:
            query:
              description: The search query to match against tool names and descriptions.
              type: string
          required:
          - query
          type: object
        name: search_tools
      - description: Get the current weather for a city.
        input_schema:
          additionalProperties: false
          properties:
            city:
              type: string
          required:
          - city
          type: object
        name: get_weather
    uri: https://api.anthropic.com/v1/messages?beta=true
  response:
    headers:
      connection:
      - keep-alive
      content-length:
      - '636'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
    parsed_body:
      content:
      - text: I'll help you search for mortgage tools and then calculate the monthly payment.
        type: text
      - id: toolu_01PkrswL8gAqbJVT4oaWTPCU
        input:
          query: mortgage
        name: search_tools
        type: tool_use
      id: msg_016N7ohDUpcLS397rXi8T628
      model: claude-sonnet-4-5-20250929
      role: assistant
      stop_reason: tool_use
      stop_sequence: null
      type: message
      usage:
        cache_creation:
          ephemeral_1h_input_tokens: 0
          ephemeral_5m_input_tokens: 0
        cache_creation_input_tokens: 0
        cache_read_input_tokens: 0
        input_tokens: 684
        output_tokens: 69
        service_tier: standard
    status:
      code: 200
      message: OK
- request:
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate, br, zstd
      connection:
      - keep-alive
      content-length:
      - '1817'
      content-type:
      - application/json
      host:
      - api.anthropic.com
    method: POST
    parsed_body:
      max_tokens: 4096
      messages:
      - content:
        - text: Use search_tools to search for "mortgage", then use the mortgage_calculator tool to calculate the monthly
            payment for a $400,000 loan at 6.5% interest for 30 years.
          type: text
        role: user
      - content:
        - text: I'll help you search for mortgage tools and then calculate the monthly payment.
          type: text
        - id: toolu_01PkrswL8gAqbJVT4oaWTPCU
          input:
            query: mortgage
          name: search_tools
          type: tool_use
        role: assistant
      - content:
        - content: '{"message":"Found 1 tool(s) matching ''mortgage''","tools":[{"name":"mortgage_calculator","description":"Mortgage
            calculator - calculate monthly mortgage payment for a home loan."}]}'
          is_error: false
          tool_use_id: toolu_01PkrswL8gAqbJVT4oaWTPCU
          type: tool_result
        role: user
      model: claude-sonnet-4-5
      stream: false
      tool_choice:
        type: auto
      tools:
      - description: Search for available tools by keyword. Returns matching tool names and descriptions.
        input_schema:
          properties:
            query:
              description: The search query to match against tool names and descriptions.
              type: string
          required:
          - query
          type: object
        name: search_tools
      - description: Get the current weather for a city.
        input_schema:
          additionalProperties: false
          properties:
            city:
              type: string
          required:
          - city
          type: object
        name: get_weather
      - description: Mortgage calculator - calculate monthly mortgage payment for a home loan.
        input_schema:
          additionalProperties: false
          properties:
            principal:
              type: number
            rate:
              type: number
            years:
              type: integer
          required:
          - principal
          - rate
          - years
          type: object
        name: mortgage_calculator
    uri: https://api.anthropic.com/v1/messages?beta=true
  response:
    headers:
      connection:
      - keep-alive
      content-length:
      - '700'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
    parsed_body:
      content:
      - text: 'Great! The search found the mortgage_calculator tool. Now let me calculate the monthly payment for your loan:'
        type: text
      - id: toolu_01J2KsNN2afqMiUJmNaX8hoQ
        input:
          principal: 400000
          rate: 6.5
          years: 30
        name: mortgage_calculator
        type: tool_use
      id: msg_016X7RSMyWa5XYng45ZZ9VcC
      model: claude-sonnet-4-5-20250929
      role: assistant
      stop_reason: tool_use
      stop_sequence: null
      type: message
      usage:
        cache_creation:
          ephemeral_1h_input_tokens: 0
          ephemeral_5m_input_tokens: 0
        cache_creation_input_tokens: 0
        cache_read_input_tokens: 0
        input_tokens: 902
        output_tokens: 113
        service_tier: standard
    status:
      code: 200
      message: OK
- request:
    headers:
      accept:
      - application/json
      accept-encoding:
      - gzip, deflate, br, zstd
      connection:
      - keep-alive
      content-length:
      - '2307'
      content-type:
      - application/json
      host:
      - api.anthropic.com
    method: POST
    parsed_body:
      max_tokens: 4096
      messages:
      - content:
        - text: Use search_tools to search for "mortgage", then use the mortgage_calculator tool to calculate the monthly
            payment for a $400,000 loan at 6.5% interest for 30 years.
          type: text
        role: user
      - content:
        - text: I'll help you search for mortgage tools and then calculate the monthly payment.
          type: text
        - id: toolu_01PkrswL8gAqbJVT4oaWTPCU
          input:
            query: mortgage
          name: search_tools
          type: tool_use
        role: assistant
      - content:
        - content: '{"message":"Found 1 tool(s) matching ''mortgage''","tools":[{"name":"mortgage_calculator","description":"Mortgage
            calculator - calculate monthly mortgage payment for a home loan."}]}'
          is_error: false
          tool_use_id: toolu_01PkrswL8gAqbJVT4oaWTPCU
          type: tool_result
        role: user
      - content:
        - text: 'Great! The search found the mortgage_calculator tool. Now let me calculate the monthly payment for your loan:'
          type: text
        - id: toolu_01J2KsNN2afqMiUJmNaX8hoQ
          input:
            principal: 400000
            rate: 6.5
            years: 30
          name: mortgage_calculator
          type: tool_use
        role: assistant
      - content:
        - content: 'Monthly payment: $2528.27'
          is_error: false
          tool_use_id: toolu_01J2KsNN2afqMiUJmNaX8hoQ
          type: tool_result
        role: user
      model: claude-sonnet-4-5
      stream: false
      tool_choice:
        type: auto
      tools:
      - description: Search for available tools by keyword. Returns matching tool names and descriptions.
        input_schema:
          properties:
            query:
              description: The search query to match against tool names and descriptions.
              type: string
          required:
          - query
          type: object
        name: search_tools
      - description: Get the current weather for a city.
        input_schema:
          additionalProperties: false
          properties:
            city:
              type: string
          required:
          - city
          type: object
        name: get_weather
      - description: Mortgage calculator - calculate monthly mortgage payment for a home loan.
        input_schema:
          additionalProperties: false
          properties:
            principal:
              type: number
            rate:
              type: number
            years:
              type: integer
          required:
          - principal
          - rate
          - years
          type: object
        name: mortgage_calculator
    uri: https://api.anthropic.com/v1/messages?beta=true
  response:
    headers:
      connection:
      - keep-alive
      content-length:
      - '989'
      content-security-policy:
      - default-src 'none'; frame-ancestors 'none'
      content-type:
      - application/json
      strict-transport-security:
      - max-age=31536000; includeSubDomains; preload
      transfer-encoding:
      - chunked
    parsed_body:
      content:
      - text: |-
          Perfect! Here are the results:

          **Search Results:** Found 1 tool matching "mortgage" - the mortgage_calculator tool for calculating monthly mortgage payments.

          **Mortgage Calculation:**
          - Loan Amount (Principal): $400,000
          - Interest Rate: 6.5%
          - Loan Term: 30 years
          - **Monthly Payment: $2,528.27**

          This monthly payment includes principal and interest. Keep in mind that your actual monthly housing payment may be higher when you add property taxes, homeowners insurance, and potentially PMI (Private Mortgage Insurance) if applicable.
        type: text
      id: msg_015ZQgNyW9KUz7sD8sVUTfUH
      model: claude-sonnet-4-5-20250929
      role: assistant
      stop_reason: end_turn
      stop_sequence: null
      type: message
      usage:
        cache_creation:
          ephemeral_1h_input_tokens: 0
          ephemeral_5m_input_tokens: 0
        cache_creation_input_tokens: 0
        cache_read_input_tokens: 0
        input_tokens: 1035
        output_tokens: 132
        service_tier: standard
    status:
      code: 200
      message: OK
version: 1
