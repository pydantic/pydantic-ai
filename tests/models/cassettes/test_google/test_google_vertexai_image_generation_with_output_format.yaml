interactions:
- request:
    headers:
      accept:
      - '*/*'
      accept-encoding:
      - gzip, deflate, br, zstd
      connection:
      - keep-alive
      content-length:
      - '245'
      content-type:
      - application/json
      host:
      - aiplatform.googleapis.com
    method: POST
    parsed_body:
      contents:
      - parts:
        - text: Generate an image of an axolotl.
        role: user
      generationConfig:
        imageConfig:
          imageOutputOptions:
            compressionQuality: 85
            mimeType: image/jpeg
        responseModalities:
        - TEXT
        - IMAGE
    uri: https://aiplatform.googleapis.com/v1beta1/projects/pydantic-ai/locations/global/publishers/google/models/gemini-2.5-flash-image:generateContent
  response:
    headers:
      alt-svc:
      - h3=":443"; ma=2592000,h3-29=":443"; ma=2592000
      content-length:
      - '520'
      content-type:
      - application/json; charset=UTF-8
      transfer-encoding:
      - chunked
      vary:
      - Origin
      - X-Origin
      - Referer
      www-authenticate:
      - Bearer realm="https://accounts.google.com/", error="invalid_token"
    parsed_body:
      error:
        code: 401
        details:
        - '@type': type.googleapis.com/google.rpc.ErrorInfo
          metadata:
            method: google.cloud.aiplatform.v1beta1.PredictionService.GenerateContent
            service: aiplatform.googleapis.com
          reason: ACCESS_TOKEN_TYPE_UNSUPPORTED
        message: Request had invalid authentication credentials. Expected OAuth 2 access token, login cookie or other valid
          authentication credential. See https://developers.google.com/identity/sign-in/web/devconsole-project.
        status: UNAUTHENTICATED
    status:
      code: 401
      message: Unauthorized
version: 1
