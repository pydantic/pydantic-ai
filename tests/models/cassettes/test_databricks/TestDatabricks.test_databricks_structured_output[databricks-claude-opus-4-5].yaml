interactions:
  - request:
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate, br
        connection:
          - keep-alive
        content-length:
          - "507"
        content-type:
          - application/json
        host:
          - mock.databricks.com
      method: POST
      parsed_body:
        messages:
          - content: Tell me about Tokyo. Provide a structured response.
            role: user
        model: databricks-claude-opus-4-5
        stream: false
        tool_choice: required
        tools:
          - function:
              description: The final response which ends this conversation
              name: final_result
              parameters:
                properties:
                  city:
                    type: string
                  country:
                    type: string
                  population_approx:
                    type: integer
                required:
                  - city
                  - country
                  - population_approx
                title: CityInfo
                type: object
            type: function
      uri: https://mock.databricks.com/serving-endpoints/chat/completions
    response:
      headers:
        alt-svc:
          - h3=":443"; ma=86400, h3-29=":443"; ma=86400
        content-length:
          - "575"
        content-type:
          - application/json
        server-timing:
          - request_id;dur=0;desc="ae7bc7ec-8f46-469a-b517-ae30958f5286", client_protocol;dur=0;desc="HTTP/1.1"
        strict-transport-security:
          - max-age=31536000; includeSubDomains; preload
        transfer-encoding:
          - chunked
        vary:
          - Accept-Encoding
      parsed_body:
        choices:
          - finish_reason: tool_calls
            index: 0
            message:
              content: null
              role: assistant
              tool_calls:
                - function:
                    arguments: '{"city":"Tokyo","country":"Japan","population_approx":14000000}'
                    name: final_result
                  id: toolu_bdrk_01C5NPZUsNtS8Es2cJNgJFqs
                  type: function
        created: 1768819956
        id: msg_bdrk_017u7nu5r2GJT1pzXp877Ayp
        model: us.anthropic.claude-opus-4-5-20251101-v1:0
        object: chat.completion
        usage:
          cache_creation_input_tokens: 0
          cache_read_input_tokens: 0
          completion_tokens: 77
          prompt_tokens: 701
          total_tokens: 778
      status:
        code: 200
        message: OK
version: 1
