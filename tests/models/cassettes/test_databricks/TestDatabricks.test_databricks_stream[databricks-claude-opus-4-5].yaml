interactions:
  - request:
      headers:
        accept:
          - application/json
        accept-encoding:
          - gzip, deflate, br
        connection:
          - keep-alive
        content-length:
          - "144"
        content-type:
          - application/json
        host:
          - <DATABRICKS_BASE_URL>
      method: POST
      parsed_body:
        messages:
          - content: Count to 3
            role: user
        model: databricks-claude-opus-4-5
        stream: true
        stream_options:
          include_usage: true
      uri: https://<DATABRICKS_BASE_URL>/serving-endpoints/chat/completions
    response:
      body:
        string: |+
          data: {"model":"us.anthropic.claude-opus-4-5-20251101-v1:0","choices":[{"delta":{"role":"assistant","content":"1,"},"index":0,"finish_reason":null}],"usage":{"cache_read_input_tokens":0,"completion_tokens":null,"prompt_tokens":11,"total_tokens":null,"cache_creation_input_tokens":0},"object":"chat.completion.chunk","id":"msg_bdrk_01D3UWsHrLEeMJBHHiBXJhJK","created":1768819943}

          data: {"model":"us.anthropic.claude-opus-4-5-20251101-v1:0","choices":[{"delta":{"role":"assistant","content":" 2, 3"},"index":0,"finish_reason":null}],"usage":{"cache_read_input_tokens":0,"completion_tokens":null,"prompt_tokens":11,"total_tokens":null,"cache_creation_input_tokens":0},"object":"chat.completion.chunk","id":"msg_bdrk_01D3UWsHrLEeMJBHHiBXJhJK","created":1768819943}

          data: {"model":"us.anthropic.claude-opus-4-5-20251101-v1:0","choices":[{"delta":{"role":"assistant","content":""},"index":0,"finish_reason":"stop"}],"usage":{"cache_read_input_tokens":0,"completion_tokens":11,"prompt_tokens":11,"total_tokens":22,"cache_creation_input_tokens":0},"object":"chat.completion.chunk","id":"msg_bdrk_01D3UWsHrLEeMJBHHiBXJhJK","created":1768819943}

          data: [DONE]

      headers:
        alt-svc:
          - h3=":443"; ma=86400, h3-29=":443"; ma=86400
        content-type:
          - text/event-stream
        server-timing:
          - request_id;dur=0;desc="b21f5703-a82b-4860-8e46-05b680013911", client_protocol;dur=0;desc="HTTP/1.1"
        strict-transport-security:
          - max-age=31536000; includeSubDomains; preload
        transfer-encoding:
          - chunked
      status:
        code: 200
        message: OK
version: 1
...
